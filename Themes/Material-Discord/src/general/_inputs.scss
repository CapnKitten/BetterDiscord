@use '../mixins' as *;

/*
 *
 *  INPUTS
 *
 */

%input {
    height: var(--input-height);
	padding: 0 12px;
	background-color: var(--input-color);
	border-radius: 4px 4px 0 0;
    border: none;
    box-shadow: inset 0 -1px 0 0 var(--input-border-color);
    color: var(--input-text-color);
    transition: var(--default-time) var(--default-animation) box-shadow;

    &:focus {
        box-shadow: inset 0 -2px 0 0 hsl(var(--accent-hsl--material-you));
    }

    &%multiInput,
    &%inputWithInnerInput {
        padding: 0;
    }

    &:not(%multiInput) {
        %input {
            width: calc(100% + 24px);
            margin-left: -12px;
        }
    }

    &::-webkit-input-placeholder {
        font-family: var(--app-font);
        color: var(--input-placeholder-color);
    }

    &%inputTextArea {
        --input-height: auto;

        padding: 8px 12px;
    }

    &%inputHidden {
        --input-height: 0;
    }
}

%inputPrefixContainer {
    margin-right: 6px;

    %inputPrefixContainerSeparator {
        background-color: var(--input-border-color);
    }
}

%multiInputLast {
    &:before {
        display: none;
    }
}

%eyebrowError {
    + %inputWrapper {
        %input {
            box-shadow: inset 0 -1px 0 0 hsl(var(--alert-hsl));

            &:focus {
                box-shadow: inset 0 -2px 0 0 hsl(var(--alert-hsl));
            }
        }
    }
}

%inputLabel {
    @include remove-caps(14px);
}

%inputWrapper {
    %inputPrefix {
        + %input {
            padding-left: 32px;
        }
    }
}

%inputEmojiContainer {
    height: var(--input-height);
    line-height: var(--input-height);
    margin: 0 4px;
    padding: 0;
    z-index: 2;

    + %inputWrapper {
        %input {
            padding: 0 36px;
        }
    }
}

%inputEmojiButton {
    margin: 0 12px;
}

%input {
    &%inputEmojiButtonText {
        padding-left: 44px !important;
    }
}

%copyInput,
%keybindInput {
    @include new-input-format(true);

    &:hover {
        %button {
            width: auto !important;
        }
    }

    %button {
        --button-height: 30px;
		margin: 3px;
    }
}

%copyInput {
    %copyInputInner {
        padding: 8px 8px 8px 12px;
    }

    %button {
        padding: var(--button-padding) !important;
    }
}

%keybindInput {
    %keybindInputInner {
        padding: 8px 8px 8px 12px;

        &::-webkit-input-placeholder {
            font-family: var(--app-font);
        }
    }

    %keybindEditIcon {
        background-image: none;
        @include add-icon(currentColor, keyboard);
        transform: scale(1.335) translate(3px, 3px) translateZ(0) !important;
    }
}

%fileUploadContainer {
    --input-padding: 0;

    %fileUploadInput {
        padding: 0 0 0 12px;

        &::-webkit-input-placeholder {
            font-weight: 500;
        }
    }
}

/* INPUTS -> SEARCH BAR */

%searchContainer {
    --input-padding: 0 6px 0 12px;

    height: var(--input-height);
    background-color: var(--input-color);
    border-radius: var(--input-radius);

    %searchInner {
        padding: var(--input-padding);
    }

    %searchInput {
        height: var(--input-height);
        margin: 0;
        padding: 0;
    }
}

/* INPUTS -> OPTION PILL */

%optionPill {
    background-color: transparent !important;
    border-radius: 13px;
    border-color: var(--main-textarea-border) !important;

    &%optionPillSelected {
        border-color: hsl(var(--accent-hsl--material-you)) !important;
    }

    &%optionPillErrored {
        border-color: hsl(var(--alert-hsl)) !important;
    }

    %optionPillKey {
        background-color: var(--input-pill-color) !important;
        border-top-left-radius: inherit;
        border-bottom-left-radius: inherit;
    }
}

%input {
    &%inputError {
        border-radius: 4px;

        + %inputColorStatusRed {
            position: absolute;
            width: 100%;
            margin-top: -24px;
            text-align: right;
        }
    }
}
